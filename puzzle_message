import pyperclip
import re
import random

def main():
    part_number = 1
    messages = [
        "/me peepoSitDinkDonk Puzzles? Puzzles?! P U Z Z L E S! peepoSitDinkDonk Part {part_number} is LIVE -> {link}",
        "/me ðŸš¨ Attention all brain cells! ðŸš¨ Time for some mental gymnastics - PUZZLES! Part {part_number} {link}",
        "/me This puzzle is so good, it'll make you yell '500 cigarettes!' Part {part_number} {link}",
        "/me This is not a drill! spongePls Repeat, this is NOT a drill! Puzzles have arrived! Part {part_number} {link}",
        "/me Roses are red, violets are blue, puzzles are here, let's solve a few! Part {part_number} {link}",
        "/me PlunderMoneyWubby Look at me, I'm the puzzle captain now PlunderMoneyWubby ðŸ§©Part {part_number} {link} ðŸ§©",
        "/me It's your favorite time of the day, puzzle GANG ASSEMBLE ðŸ§©Part {part_number} {link} ðŸ§©"

    ]
    chosen_message = random.choice(messages)

    while True:
        url = input("Paste the URL: ").strip()

        if not url:
            print("Error: URL is empty. Please try again.")
            continue
        
        pattern = r"^https://jiggie.fun/[a-zA-Z0-9_]{6}$"
        if not re.match(pattern, url):
            print("Error: Invalid URL format. Must be in the form https://jiggie.fun/XXXXXX")
            continue
        
        room_id = url[-6:]
        message = chosen_message.format(part_number=part_number, link=f"jiggieâ€¢fun/{room_id}")
        pyperclip.copy(message)
        part_number += 1

if __name__ == "__main__":
    main()
